<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Karun Mahtani</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>  
<body class="bg-white overflow-hidden h-screen"> 
  <header class="sticky top-0 z-50 bg-white pt-2 pb-6 sm:pb-6 md:pt-4 lg:pt-5 lg:pb-10" >
     
      <div class="relative max-w-screen-xl mx-auto px-4">
      <!-- Container: relative (so absolute items inside behave properly) -->
        <img src="./assets/Logo.png" alt="Karun Mahtani Logo" class="mx-auto block w-50 sm:w-64 md:w-80 lg:w-96 xl:w-[32rem] -mt-2" />
      </div>
  </header>
  <section>
    <div id="intro-vinyl">
      <img src="./assets/disc.png" id="VinylDisc" alt="Vinyl Disc Spinning"
         class="mx-auto mt-10 sm:mt-12 md:mt-16 lg:mt-8 2xl:mt-28
         max-w-[24rem] sm:max-w-[20rem] md:max-w-[42rem] lg:max-w-[38rem] 
         max-h-[60vh] 2xl:max-h-[80vh]" />
    </div>

    <div id="instructionText" class="hidden text-white text-center 
              text-lg bg-black bg-opacity-60 px-4 py-2 rounded shadow-md 
               mx-auto w-fit mt-4 sm:mt-6 md:mt-8 lg:mt-10 xl:mt-12 2xl:mt-14">
          [ Spin the disc for 5 seconds ]
    </div>


  </section>


  <script>

    let isDragging = false;
    let lastAngle = 0;
    let currentRotation = 0;
    let spinStartTime = null;

    let centerX = 0;
    let centerY = 0;


    const element = document.getElementById('VinylDisc')
    
    

    element.addEventListener("mousedown", handleStart); 
    element.addEventListener("touchstart", handleStart, { passive: false });
    element.addEventListener("mouseup", handleEnd);
    element.addEventListener("touchend", handleEnd);

    element.addEventListener("mousemove", handleMove);
    element.addEventListener("touchmove", handleMove);

  
    function handleStart(event) {
      isDragging = true;
      spinStartTime = Date.now();


      const rect = element.getBoundingClientRect();
      centerX = rect.left + rect.width / 2;
      centerY = rect.top + rect.height / 2;

      if (event.cancelable) event.preventDefault();


      let pointerX, pointerY, deltaX, deltaY;

      if(event.touches) {

        pointerX = event.touches[0].clientX;
        pointerY = event.touches[0].clientY;
      }
      else {

        pointerX = event.clientX;
        pointerY = event.clientY;

      }

      deltaX = pointerX-centerX;
      deltaY = pointerY-centerY;

      lastAngle = Math.atan2(deltaY, deltaX);


    

      document.getElementById("instructionText").classList.remove("hidden");
      setTimeout(() => {
        document.getElementById("instructionText").classList.add("hidden");
      }, 1000);

      }

 

  </script>

  


</body>
</html>
